<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Seguimiento Diario</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css.css">
    <link rel="shortcut icon" href="https://png.pngtree.com/png-clipart/20250416/original/pngtree-happy-strong-heart-cartoon-cheerful-and-healthy-character-png-image_20736534.png" type="image/x-icon">
</head>
<body>

    <h1>üìÖ Seguimiento Diario</h1>
    <p>Marca tus h√°bitos cumplidos hoy</p>
    <div class="racha">
        üî• Racha: <span id="rachaNumero">0</span> d√≠as
    </div>
    <button id="btnAgregar">‚ûï A√±adir h√°bito</button>
    <div class="acciones">
    <button class="editar">‚úèÔ∏è</button>
    </div>
    <div  class="frase">
        <img src="https://images.vexels.com/media/users/3/199342/isolated/preview/2346768546f5e1158d46db8ebb591995-dibujos-animados-lindo-corazon-yoga.png" alt="">
        <!-- La frase aparecer√° aqu√≠ -->
        <div id="frase-diaria">   

        </div>
    </div>
    <div id="modal" class="modal oculto">
        <div class="modal-contenido">
            <h3 id="tituloModal">Nuevo h√°bito</h3>

            <input type="text" id="nombreHabito" placeholder="Nombre del h√°bito">

            <select id="importanciaHabito">
                <option value="alta">Alta</option>
                <option value="media">Media</option>
                <option value="baja">Baja</option>
            </select>

            <button id="guardarHabito">Guardar</button>
            <button id="cerrarModal">Cancelar</button>
        </div>
    </div>

    <div class="habitos">

        <div class="habito alta">
            <label>
                <input type="checkbox" data-id="comer">
                Comer bien
            </label>
            <span class="importancia">Alta</span>
        </div>

        <div class="habito alta">
            <label>
                <input type="checkbox" data-id="agua">
                Beber 2L de agua
            </label>
            <span class="importancia">Alta</span>
        </div>

        <div class="habito alta">
            <label>
                <input type="checkbox" data-id="dormir">
                Dormir bien
            </label>
            <span class="importancia">Alta</span>
        </div>

        <div class="habito media">
            <label>
                <input type="checkbox" data-id="ejercicio">
                Hacer ejercicio
            </label>
            <span class="importancia">Media</span>
        </div>

        <div class="habito media">
            <label>
                <input type="checkbox" data-id="aseo">
                Asearse
            </label>
            <span class="importancia">Media</span>
        </div>

        <div class="habito baja">
            <label>
                <input type="checkbox" data-id="leer">
                Leer
            </label>
            <span class="importancia">Baja</span>
        </div>

        <div class="habito baja">
            <label>
                <input type="checkbox" data-id="meditar">
                Meditar
            </label>
            <span class="importancia">Baja</span>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>
<script>
    document.addEventListener("DOMContentLoaded", () => {

    const today = new Date().toISOString().split("T")[0];
    const STORAGE_HABITOS = "listaHabitos";
    const STORAGE_ESTADO = "estado_" + today;

    const contenedor = document.querySelector(".habitos");
    const btnAgregar = document.getElementById("btnAgregar");
    const modal = document.getElementById("modal");
    const guardarBtn = document.getElementById("guardarHabito");
    const cerrarBtn = document.getElementById("cerrarModal");
    const nombreInput = document.getElementById("nombreHabito");
    const importanciaSelect = document.getElementById("importanciaHabito");
    const tituloModal = document.getElementById("tituloModal");

    let habitosIniciales = [
        { id: "comer", nombre: "Comer bien", importancia: "alta" },
        { id: "agua", nombre: "Beber 2L de agua", importancia: "alta" },
        { id: "dormir", nombre: "Dormir bien", importancia: "alta" },
        { id: "ejercicio", nombre: "Hacer ejercicio", importancia: "media" },
        { id: "leer", nombre: "Leer", importancia: "baja" }
    ];

    let habitos = JSON.parse(localStorage.getItem(STORAGE_HABITOS)) || habitosIniciales;
    let estado = JSON.parse(localStorage.getItem(STORAGE_ESTADO)) || {};

    let habitoEditando = null; // üëà CLAVE

    guardarHabitos();
    renderizar();

    // ===== FUNCIONES =====
    function guardarHabitos() {
        localStorage.setItem(STORAGE_HABITOS, JSON.stringify(habitos));
    }

    function renderizar() {
    contenedor.innerHTML = "";

    habitos.forEach(h => {
        const div = document.createElement("div");
        div.className = `habito ${h.importancia}`;

        div.innerHTML = `
            <label>
                <input type="checkbox" data-id="${h.id}">
                ${h.nombre}
            </label>

            <div class="acciones">
                <button class="editar">‚úèÔ∏è</button>
            </div>

            <span class="importancia">${h.importancia}</span>
        `;

        const checkbox = div.querySelector("input");
        checkbox.checked = estado[h.id] || false;

        checkbox.addEventListener("change", () => {
            estado[h.id] = checkbox.checked;
            localStorage.setItem(STORAGE_ESTADO, JSON.stringify(estado));
        });

        // ‚úèÔ∏è BOT√ìN EDITAR
        div.querySelector(".editar").addEventListener("click", (e) => {
            e.stopPropagation(); // üëà MUY IMPORTANTE
            abrirEditar(h);
        });

        // ‚ùå BORRAR (pulsaci√≥n larga / clic derecho)
        div.addEventListener("contextmenu", e => {
            e.preventDefault();
            if (confirm("¬øEliminar h√°bito?")) {
                habitos = habitos.filter(x => x.id !== h.id);
                delete estado[h.id];
                guardarHabitos();
                renderizar();
            }
        });

        contenedor.appendChild(div);
    });
}


    function abrirEditar(habito) {
        habitoEditando = habito;
        tituloModal.textContent = "Editar h√°bito";
        nombreInput.value = habito.nombre;
        importanciaSelect.value = habito.importancia;
        modal.classList.remove("oculto");
    }

    function abrirNuevo() {
        habitoEditando = null;
        tituloModal.textContent = "Nuevo h√°bito";
        nombreInput.value = "";
        importanciaSelect.value = "media";
        modal.classList.remove("oculto");
    }

    // ===== BOTONES =====
    btnAgregar.addEventListener("click", abrirNuevo);

    cerrarBtn.addEventListener("click", () => {
        modal.classList.add("oculto");
    });

    guardarBtn.addEventListener("click", () => {
        const nombre = nombreInput.value.trim();
        const importancia = importanciaSelect.value;

        if (!nombre) return alert("Pon un nombre");

        if (habitoEditando) {
            // ‚úèÔ∏è EDITAR
            habitoEditando.nombre = nombre;
            habitoEditando.importancia = importancia;
        } else {
            // ‚ûï NUEVO
            habitos.push({
                id: Date.now().toString(),
                nombre,
                importancia
            });
        }

        guardarHabitos();
        renderizar();
        modal.classList.add("oculto");
    });

});

    </script>
    <script>
        const frases = [
  "El √©xito es la suma de peque√±os esfuerzos repetidos d√≠a tras d√≠a.",
  "Cree en ti mismo y todo ser√° posible.",
  "La motivaci√≥n te impulsa, el h√°bito te mantiene en movimiento.",
  "Cada d√≠a es una nueva oportunidad para cambiar tu vida.",
  "No dejes que los miedos decidan tu futuro.",
  "El √∫nico lugar donde el √©xito viene antes que el trabajo es en el diccionario.",
  "La disciplina es el puente entre las metas y los logros.",
  "Peque√±os cambios pueden hacer una gran diferencia.",
  "La constancia es la clave del √©xito.",
  "Eres capaz de m√°s de lo que imaginas.",
  "Puedes hacer cualquier cosa que te propongas.",
  "Solo necesitas creer en ti.",
];

const divFrase = document.getElementById('frase-diaria');

// N√∫mero del d√≠a del a√±o
const hoy = new Date();
const inicioAno = new Date(hoy.getFullYear(), 0, 0);
const diff = hoy - inicioAno;
const unDia = 1000 * 60 * 60 * 24;
const diaDelAno = Math.floor(diff / unDia);

const indice = diaDelAno % frases.length; // Se asegura que el √≠ndice est√© dentro del array
divFrase.textContent = frases[indice];

    </script>